{"version":3,"sources":["store/types/data.ts","store/action-creators/data.ts","hooks/useActions.ts","hooks/useTypedSelector.ts","components/SearchBar/SearchBar.tsx","components/Preloader/Preloader.tsx","components/PreloaderMini/PreloaderMini.tsx","components/BooksList/BooksList.tsx","components/BooksListInfo/BooksListInfo.tsx","components/Scroll/Scroll.tsx","images/book_cover.png","components/BookCard/BookCard.tsx","components/Error/Error.tsx","images/sun.png","services/ThemeService.ts","components/Theme/Theme.tsx","images/moon.png","images/logo.png","components/Logo/Logo.tsx","images/logo_text_ru.png","components/LogoText/LogoText.tsx","components/ZeroBook/ZeroBook.tsx","layout/Header/Header.tsx","layout/Main/Main.tsx","App.tsx","store/reducers/dataReducer.ts","store/index.ts","index.tsx"],"names":["DataActionTypes","ajaxRequest","fetchData","query","page","url","dispatch","a","cancel","axios","CancelToken","source","type","FETCH_DATA_LOADING","get","params","q","cancelToken","token","response","FETCH_DATA_SUCESS","payload","data","isCancel","FETCH_DATA_ERROR","setDataQuery","SET_DATA_QUERY","setDataPage","SET_DATA_PAGE","useActions","useDispatch","bindActionCreators","DataActionCreactors","useTypedSelector","useSelector","SearchBar","useState","value","setValue","state","loading","useEffect","console","log","timer","setTimeout","updateQuery","clearTimeout","document","getElementById","focus","className","id","placeholder","name","title","onKeyDown","e","key","onChange","target","unselectable","onClick","style","display","Preloader","PreloaderMini","BooksList","error","totalPages","num_found","Math","floor","docs","length","map","book","BooksListInfo","showingBooks","start","numFound","Scroll","children","isAddData","setIsAddData","onScroll","scroll","currentTarget","scrollTop","offsetHeight","scrollHeight","BookCard","React","memo","author_name","cover_i","isbn","alt","src","bookCover","onError","onerror","join","Error","ThemeService","colorTheme","localStorage","getItem","initialColor","JSON","parse","documentElement","setAttribute","hasAttribute","removeAttribute","setItem","stringify","Theme","loadTheme","icon","setIcon","toggleTheme","SunIcon","Logo","SiteLogoBooks","LogoText","SiteLogoText","ZeroBook","Header","Main","App","initialState","rootReducer","combineReducers","action","customizer","obj1","obj2","_","isArray","concat","mergeWith","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.b4246ee1.chunk.js","sourcesContent":["import { IBooksData } from '../../interfaces/interfaces';\r\n\r\nexport interface IDataState {\r\n  data: IBooksData | null;\r\n  loading: boolean;\r\n  error: string | null;\r\n  page: number;\r\n  query: string;\r\n}\r\n\r\nexport enum DataActionTypes {\r\n  FETCH_DATA_LOADING = 'FETCH_DATA_LOADING',\r\n  FETCH_DATA_SUCESS = 'FETCH_DATA_SUCESS',\r\n  FETCH_DATA_ERROR = 'FETCH_DATA_ERROR',\r\n  SET_DATA_QUERY = 'SET_DATA_QUERY',\r\n  SET_DATA_PAGE = 'SET_DATA_PAGE',\r\n}\r\n\r\ninterface FetchDataLoadingAction {\r\n  type: DataActionTypes.FETCH_DATA_LOADING;\r\n}\r\ninterface FetchDataSucessAction {\r\n  type: DataActionTypes.FETCH_DATA_SUCESS;\r\n  payload: IBooksData;\r\n}\r\ninterface FetchDataErrorAction {\r\n  type: DataActionTypes.FETCH_DATA_ERROR;\r\n  payload: string;\r\n}\r\ninterface SetDataQueryAction {\r\n  type: DataActionTypes.SET_DATA_QUERY;\r\n  payload: string;\r\n}\r\ninterface SetDataPageAction {\r\n  type: DataActionTypes.SET_DATA_PAGE;\r\n  payload: number;\r\n}\r\n\r\nexport type DataAction =\r\n  | FetchDataLoadingAction\r\n  | FetchDataSucessAction\r\n  | FetchDataErrorAction\r\n  | SetDataQueryAction\r\n  | SetDataPageAction;\r\n","import axios, { CancelTokenSource } from 'axios';\r\nimport { Dispatch } from 'redux';\r\nimport { IBooksData } from '../../interfaces/interfaces';\r\nimport { DataAction, DataActionTypes } from '../types/data';\r\n\r\n// declare an ajax request's cancelToken (globally)\r\nlet ajaxRequest: CancelTokenSource | null = null;\r\n\r\nexport const fetchData = (query = '', page = 1) => {\r\n  const url = 'https://openlibrary.org/search.json';\r\n  return async (dispatch: Dispatch<DataAction>) => {\r\n    try {\r\n      // cancel  previous ajax if exists\r\n      if (ajaxRequest) {\r\n        ajaxRequest.cancel();\r\n      }\r\n      // creates a new token for upcomming ajax (overwrite the previous one)\r\n      ajaxRequest = axios.CancelToken.source();\r\n\r\n      dispatch({ type: DataActionTypes.FETCH_DATA_LOADING });\r\n      const response = await axios.get<IBooksData>(url, {\r\n        params: { q: query, page: page },\r\n        cancelToken: ajaxRequest.token,\r\n      });\r\n      dispatch({\r\n        type: DataActionTypes.FETCH_DATA_SUCESS,\r\n        payload: response.data,\r\n      });\r\n    } catch (error) {\r\n      if (axios.isCancel(error)) {\r\n        // console.log(`Previous request canceled, new request is send`);\r\n      } else {\r\n        dispatch({\r\n          type: DataActionTypes.FETCH_DATA_ERROR,\r\n          payload: `${error}`,\r\n        });\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport function setDataQuery(query: string): DataAction {\r\n  return { type: DataActionTypes.SET_DATA_QUERY, payload: query };\r\n}\r\n\r\nexport function setDataPage(page: number): DataAction {\r\n  return { type: DataActionTypes.SET_DATA_PAGE, payload: page };\r\n}\r\n","import { useDispatch } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport * as DataActionCreactors from '../store/action-creators/data';\r\n\r\nexport const useActions = () => {\r\n  const dispatch = useDispatch();\r\n  return bindActionCreators(DataActionCreactors, dispatch);\r\n};\r\n","import { TypedUseSelectorHook, useSelector } from 'react-redux';\r\nimport { RootState } from '../store';\r\n\r\nexport const useTypedSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n","import React from 'react';\r\nimport { useEffect, useState } from 'react';\r\nimport { useActions } from '../../hooks/useActions';\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector';\r\nimport './SearchBar.scss';\r\n\r\nexport const SearchBar: React.FC = () => {\r\n  const [value, setValue] = useState('');\r\n  const { fetchData, setDataQuery, setDataPage } = useActions();\r\n  const { query, page, data, loading } = useTypedSelector(\r\n    (state) => state.data\r\n  );\r\n  // console.log('render BAR', value, query, page, loading);\r\n\r\n  // load/add new page\r\n  useEffect(() => {\r\n    // console.log('ef(query, page)', loading);\r\n    if (page >= 1) fetchData(query, page);\r\n    console.log(`query = ${query}, page = ${page}, load new page, ${loading}`);\r\n    // console.log(data);\r\n  }, [query, page]);\r\n\r\n  // debouce. Autoload the first page after 1 sec.\r\n  useEffect(() => {\r\n    // console.log('ef(timer)', loading);\r\n    const timer = setTimeout(() => {\r\n      // console.log('ef(updateQuery timer on)', loading);\r\n      updateQuery();\r\n      // console.log('ef(updateQuery timer off)', loading);\r\n    }, 1000);\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [value]);\r\n\r\n  const onKeyDown = (e: React.KeyboardEvent) => {\r\n    // console.log('onKeyDown');\r\n    if (e.key === 'Enter') {\r\n      // console.log('updateQuery onKeyDown', loading);\r\n      updateQuery();\r\n    }\r\n  };\r\n\r\n  const updateQuery = () => {\r\n    // console.log('updateQuery in', loading);\r\n    !value && document.getElementById('searchInput')?.focus();\r\n    if (value !== query) {\r\n      setDataPage(1);\r\n      setDataQuery(value);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='input'>\r\n      <div className='input__box'>\r\n        <input\r\n          className='input__control'\r\n          id='searchInput'\r\n          placeholder='. . .'\r\n          type='search'\r\n          name='search'\r\n          title='Введите запрос'\r\n          value={value}\r\n          onKeyDown={onKeyDown}\r\n          onChange={(e) => setValue(e.target.value)}\r\n        />\r\n        <div\r\n          className='input__clear'\r\n          id='searchClear'\r\n          unselectable='on'\r\n          onClick={() => setValue('')}\r\n          style={value ? { display: 'block' } : { display: 'none' }}\r\n        />\r\n        <button\r\n          className='input__button'\r\n          id='searchButton'\r\n          onClick={() => updateQuery()}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import './Preloader.scss';\r\n\r\nexport const Preloader: React.FC = () => {\r\n  return (\r\n    <div className='preloader'>\r\n      <div className='banter-loader'>\r\n        <div className='banter-loader__box'></div>\r\n        <div className='banter-loader__box'></div>\r\n        <div className='banter-loader__box'></div>\r\n        <div className='banter-loader__box'></div>\r\n        <div className='banter-loader__box'></div>\r\n        <div className='banter-loader__box'></div>\r\n        <div className='banter-loader__box'></div>\r\n        <div className='banter-loader__box'></div>\r\n        <div className='banter-loader__box'></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import './PreloaderMini.scss';\r\n\r\nexport const PreloaderMini: React.FC = () => {\r\n  return <div className='preloader-mini'></div>;\r\n};\r\n","import { useTypedSelector } from '../../hooks/useTypedSelector';\r\nimport {\r\n  BookCard,\r\n  BooksListInfo,\r\n  Error,\r\n  Preloader,\r\n  PreloaderMini,\r\n  ZeroBook,\r\n} from '..';\r\n\r\nimport './BooksList.scss';\r\nimport { useEffect } from 'react';\r\n\r\nexport const BooksList: React.FC = () => {\r\n  const { data, loading, error, query, page } = useTypedSelector(\r\n    (state) => state.data\r\n  );\r\n\r\n  // set data.totalPages field\r\n  useEffect(() => {\r\n    // console.log('ef(data)', loading);\r\n    if (!loading && data) {\r\n      data.totalPages = data.num_found\r\n        ? Math.floor(data.num_found / 100) + 1\r\n        : 0;\r\n      console.log(\r\n        `query = ${query}, page = ${page}, totalPages = ${data.totalPages}`\r\n      );\r\n      console.log(data);\r\n    }\r\n  }, [data, loading]);\r\n\r\n  // console.log('render BooksList', loading, error, query, page);\r\n  \r\n  return (\r\n    <div className='books-list'>\r\n      {loading && page === 1 && <Preloader />}\r\n      {loading && page > 1 && <PreloaderMini />}\r\n      {error && <Error />}\r\n      {data?.docs.length === 0 && data.q && !loading && <ZeroBook />}\r\n      {(!loading || page > 1) && (\r\n        <>\r\n          <div className='books-list__container'>\r\n            {data?.docs.map((book) => (\r\n              <BookCard key={book.key} book={book} />\r\n            ))}\r\n          </div>\r\n          {data && <BooksListInfo />}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import { useTypedSelector } from '../../hooks/useTypedSelector';\r\nimport './BooksListInfo.scss';\r\n\r\nexport const BooksListInfo: React.FC = (): JSX.Element => {\r\n  const { data } = useTypedSelector((state) => state.data);\r\n\r\n  let showingBooks = 0;\r\n\r\n  if (data?.num_found) {\r\n    showingBooks =\r\n      (data?.num_found - data.start) / 100 > 1\r\n        ? data.start + 100\r\n        : data?.num_found;\r\n  }\r\n\r\n  return (\r\n    <div className='books-list-info'>\r\n      <div className='books-list-info__title'>\r\n        showing books {showingBooks} / {data?.numFound}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { FC, UIEvent, useEffect, useState } from 'react';\r\nimport { useActions } from '../../hooks/useActions';\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector';\r\nimport './Scroll.scss';\r\n\r\nexport const Scroll: FC = ({ children }) => {\r\n  const [isAddData, setIsAddData] = useState(false);\r\n  const { setDataPage } = useActions();\r\n  const { data, loading, page } = useTypedSelector((state) => state.data);\r\n\r\n  useEffect(() => {\r\n    if (!loading && data) {\r\n      setIsAddData(false);\r\n      // console.log('isAddData =', isAddData, page, loading);\r\n      // console.log('page =', page);\r\n      // console.log('totalPages =', data.totalPages);\r\n      // console.log('data =', data);\r\n    }\r\n  }, [loading]);\r\n\r\n  const onScroll = (e: UIEvent<HTMLDivElement>) => {\r\n    const scroll = e.currentTarget;\r\n    const offset = 120;\r\n\r\n    let scrollTop = scroll.scrollTop;\r\n    let scrollBottom = scrollTop + scroll.offsetHeight;\r\n    let scrollHeigh = scroll.scrollHeight;\r\n    if (scrollBottom + offset >= scrollHeigh) {\r\n      // scroll in target\r\n      // console.log('scroll isAddData =', isAddData, page, loading);\r\n      // console.log('data =', data);\r\n      if (!isAddData && !loading && data && page < data.totalPages) {\r\n        setIsAddData(true);\r\n        setDataPage(page + 1);\r\n        // console.log('isAddData =', isAddData, page, loading);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='scroll' onScroll={onScroll}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/book_cover.ae72d0eb.png\";","import { IBookCard } from '../../interfaces/interfaces';\r\nimport bookCover from '../../images/book_cover.png';\r\nimport './BookCard.scss';\r\nimport React from 'react';\r\n\r\nexport const BookCard: React.FC<IBookCard> = React.memo(({ book }): JSX.Element => {\r\n  const { key, author_name, cover_i, isbn, title } =\r\n    book;\r\n  // console.log('render BookCard', key);\r\n  return (\r\n    <div className='book-card'>\r\n      <div className='book-card__img-container'>\r\n        <img\r\n          className='book-card__img'\r\n          alt='book cover'\r\n          src={\r\n            cover_i\r\n              ? `https://covers.openlibrary.org/b/id/${cover_i}-M.jpg?default=false`\r\n              : isbn\r\n              ? `https://covers.openlibrary.org/b/isbn/${isbn[0]}-M.jpg?default=false`\r\n              : bookCover\r\n          }\r\n          onError={(e: React.SyntheticEvent<HTMLImageElement, Event>) => {\r\n            e.currentTarget.onerror = null;\r\n            e.currentTarget.src = bookCover;\r\n          }}\r\n        />\r\n      </div>\r\n      <div className='book-card__description'>\r\n        <div className='book-card__title'>{title}</div>\r\n        {author_name && (\r\n          <div className='book-card__author'>{author_name.join(', ')}</div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n","import { useTypedSelector } from '../../hooks/useTypedSelector';\r\nimport './Error.scss';\r\n\r\nexport const Error: React.FC = () => {\r\n  const { error } = useTypedSelector((state) => state.data);\r\n  return (\r\n    <div className='error'>\r\n      <div className='error__title'>Ошибка загрузки данных</div>\r\n      <div className='error__message'>{error}</div>\r\n    </div>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/sun.d4bd2412.png\";","export default class ThemeService {\r\n  static loadTheme(): string {\r\n    const colorTheme = localStorage.getItem('colorTheme');\r\n    const initialColor = colorTheme ? JSON.parse(colorTheme) : 'sun';\r\n    if (initialColor === 'moon') {\r\n      document.documentElement.setAttribute('theme', 'moon');\r\n    }\r\n    return initialColor;\r\n  }\r\n\r\n  static toggleTheme() {\r\n    if (document.documentElement.hasAttribute('theme')) {\r\n      document.documentElement.removeAttribute('theme');\r\n      localStorage.setItem('colorTheme', JSON.stringify('sun'));\r\n    } else {\r\n      document.documentElement.setAttribute('theme', 'moon');\r\n      localStorage.setItem('colorTheme', JSON.stringify('moon'));\r\n    }\r\n  }\r\n}\r\n","import './Theme.scss';\r\nimport SunIcon from '../../images/sun.png';\r\nimport MoonIcon from '../../images/moon.png';\r\nimport { useState } from 'react';\r\nimport ThemeService from '../../services/ThemeService';\r\n\r\nexport const Theme: React.FC = () => {\r\n  const [icon, setIcon] = useState(ThemeService.loadTheme());\r\n\r\n  const changeTheme = () => {\r\n    ThemeService.toggleTheme();\r\n    setIcon(ThemeService.loadTheme());\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className='theme'\r\n      onClick={changeTheme}\r\n      title={`Тема: ${\r\n        icon === 'sun' ? 'светлый день в Я.Доставке' : 'тёмная ночь в Я.Такси'\r\n      }`}\r\n    >\r\n      <div className={`theme__icon ${icon}`}>\r\n        <img className='theme__img' src={SunIcon} alt='sun' />\r\n        <img className='theme__img' src={MoonIcon} alt='moon' />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAC9FBMVEUAAAD/gAD/uQD/tgD/tQD/twD/qgD/tgD/tQD/tQD/tQD/tQD/tAD/tAD/tAD/tQD//wD/tQD/tAD/tQD/tQD/tQD/vwD/uAD/tQD/tgD/rwD/tAD/tQD/tQD/uQD/tQD/tQD/swD/tAD/uwD/tAD/tQD/vwD/tQD/tQD/tAD/tQD/tQD/tQD/twD/tAD/tQD/tQD/tQD/tgD/tQD/tgD/tQD/tQD/tAD/tgD/tQD/tQD/tgD/swD/tQD/swD/qgD/tQD/swD/tQD/tQD/swD/tQD/tQD/tQD/sQD/tgD/tQD/tQD/tgD/tgD/tQD/tQD/sQD/swD/tQD/tQD/tQD/tQD/tQD/tgD/tQD/uQD/tgD/tQD/tAD/swD/tQD/vwD/tQD/tQD/tgD/tgD/tgD/tQD/tAD/tQD/tQD/tAD/uAD/tQD/tQD/tQD/twD/tAD/tQD/tAD/tgD/tQD/tQD/tgD/tAD/tQD/tAD/tAD/tAD/tQD/tQD/tgD/tQD/tgD/tQD/tQD/tAD/tQD/tQD/tQD/tAD/tQD/tQD/tAD/swD/tQD/swD/zAD/tQD/tQD/tQD/tQD/tAD/tgD/tgD/tgD/tQD/tgD/tAD/tAD/tQD/tQD/tQD/tQD/tgD/tAD/tAD/tgD/tQD/twD/tQD/tQD/sgD/tQD/tQD/qgD/tQD/tQD/tgD/tgD/tgD/tgD/tQD/tAD/tQD/tQD/twD/tgD/tgD/tQD/tAD/tQD/tgD/uAD/sQD/tQD/tQD/tAD/tAD/tQD/tQD/tgD/tQD/tQD/rgD/tQD/tAD/tgD/tgD/tQD/tQD/tQD/tQD/tQD/tQD/twD/twD/tQD/tQD/tQD/tgD/tQD/tQD/tQD/tQD/tAD/tQD/tQD/tQD/tQD/uAD/swD/tQD/tQD/tgD/tQD/swD/tAD/tQD/tAD/tAD/tQD/tQD/tgD/tAD/tQD/tAD/tAD/tgD/tQD/tAD/tgD/tgD/tAD/tQD/tgD/tQD/tQDaK0V1AAAA+3RSTlMAAhZNzC4GXtm3aONHVdvTAddjN8TpCCSsgRCP+fwd6LMvTg+T5ARM4oIYov0gZu+5Xez3DqOoQeWA7gcemFED7RS6oTlTWvgNiLSyZSPY/ho2T/WOZPtJhwuZ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\"","export default __webpack_public_path__ + \"static/media/logo.8516c8eb.png\";","import './Logo.scss';\r\nimport SiteLogoBooks from '../../images/logo.png';\r\n\r\nexport const Logo: React.FC = () => {\r\n  return (\r\n    <div className='logo'>\r\n        <img className='logo__img' src={SiteLogoBooks} alt='SiteLogoBook' />\r\n    </div>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/logo_text_ru.4e26240d.png\";","import './LogoText.scss';\r\nimport SiteLogoText from '../../images/logo_text_ru.png';\r\n\r\nexport const LogoText: React.FC = () => {\r\n  return (\r\n    <div className='logoText'>\r\n      <img className='logoText__img' src={SiteLogoText} alt='SiteLogoText' />\r\n    </div>\r\n  );\r\n};\r\n","import './ZeroBook.scss';\r\n\r\nexport const ZeroBook: React.FC = () => {\r\n  return (\r\n    <div className='zero-book'>\r\n      <div className='zero-book__title'>Книги не найдены</div>\r\n      <div className='zero-book__text'>Попробуйте ввести другой запрос.</div>\r\n      <div className='zero-book__text'>\r\n        Большинство книг записаны на английском языке и транслите.\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { Logo, LogoText, SearchBar, Theme } from '../../components';\r\nimport './Header.scss';\r\n\r\nexport const Header: React.FC = () => {\r\n  return (\r\n    <header className='header'>\r\n      <div className='header__container'>\r\n        <Logo />\r\n        <LogoText />\r\n        <SearchBar />\r\n        <Theme />\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n","import './Main.scss';\r\n\r\nexport const Main: React.FC = ({ children }) => {\r\n  return (\r\n    <main className='main'>\r\n      <div className='main__container'>{children}</div>\r\n    </main>\r\n  );\r\n};\r\n","import { Header, Main } from './layout';\nimport { BooksList, Scroll } from './components';\n\nexport const App: React.FC = () => {\n  return (\n    <>\n      <Header />\n      <Main>\n        <Scroll>\n          <BooksList />\n        </Scroll>\n      </Main>\n    </>\n  );\n};\n","import { DataAction, DataActionTypes, IDataState } from '../types/data';\r\nimport _ from 'lodash';\r\n\r\nconst initialState: IDataState = {\r\n  data: null,\r\n  loading: false,\r\n  error: null,\r\n  page: 1,\r\n  query: '',\r\n};\r\n\r\nexport const DataReducer = (\r\n  state = initialState,\r\n  action: DataAction\r\n): IDataState => {\r\n  const customizer = (obj1: IDataState, obj2: IDataState) => {\r\n    if (_.isArray(obj1)) return _.concat(obj1, obj2);\r\n  };\r\n\r\n  switch (action.type) {\r\n    case DataActionTypes.FETCH_DATA_LOADING:\r\n      return { ...state, loading: true, error: null };\r\n    case DataActionTypes.FETCH_DATA_SUCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        data:\r\n          state.page === 1\r\n            ? action.payload\r\n            : _.mergeWith(state.data, action.payload, customizer),\r\n      };\r\n    case DataActionTypes.FETCH_DATA_ERROR:\r\n      return { ...state, loading: false, error: action.payload, data: null };\r\n    case DataActionTypes.SET_DATA_QUERY:\r\n      return { ...state, query: action.payload };\r\n    case DataActionTypes.SET_DATA_PAGE:\r\n      return { ...state, page: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport { DataReducer } from './reducers/dataReducer';\r\n\r\nexport const rootReducer = combineReducers({\r\n  data: DataReducer,\r\n});\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\nexport type AppDispatch = typeof store.dispatch;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/main.scss';\nimport { App } from './App';\nimport { Provider } from 'react-redux';\nimport { store } from './store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}